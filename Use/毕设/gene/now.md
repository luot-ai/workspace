# 一Q

* 实验
  * 用cva6就必须要他的程序
  * 用ri5cy可以单纯比加速比

# 一个基于RISC-V扩展指令的CNN加速设计-by 利用流水计算部件与数据依赖

* 安排

  * little

    * WINO先不详细介绍
    * 实现时再说
      * 各部件能同时计算？
      * 旁路
      * MAXF改写伪代码
    * 预留指令说法（rsvd也是）
  * ch4-experiment & ana-最后再写，具体做法不急

    * 频率（一条复杂和多条简单）
    * 速度
    * 功耗
  * ch1-Intro-最后再写
  * other

    * ref
    * ckt

      * 大小写（table/pic/inst）
* 需要注意

  * 咱们的比较对象是**其他用RV扩展指令的做法**
    * 扩展指令做的挺多的，为什么用你的？
    * 别人的问题-你的优势何在
  * 弱化Winograd
    * 这样的话可能和im2col或者滑窗法对比就合理了
    * 突出的就是 CNN加速器
      * 但这样可能就不太强调端上做CNN这个点？
  * 弱化CPU？
    * 这点不太理解
    * （但人家要求的就是发和CPU相关的呀
  * 实验
    * 得用个能背书的玩意儿

# 实验先放放

* 顶会的背书

  * top_acc vs ri5cy_acc

    * 同时top_acc vs top
  * 编译按部就班，关键是获得他的源程序
  * RTL

    * 还差一些
    * DEBUG
    * 功能
    * 或许的性能
    * (MAXF
  * 性能测试

    * 还是模拟器方便-需要测RTL原始，然后跑下模拟器缩放
      * 最好是找有模拟器的，去缩放，RTL上不用测试
        * 实现的话要花个几天时间，大概
      * （实在不行用gem5上的比例去缩放得了
        * gem5让他自个儿跑跑得了
    * 单看目前RV的效果是还不够的
      * 要么和滑窗法比
      * 要么自己再提提
        * 提前加载啥的？

## 模拟器

* 待

  * vgg16

    * acc & im2col
* 实现MAXF指令

  * 跑加速
    * 保存
* other

  * 虚地址错误大概是 padding & stride=2导致的
  * 脚本混乱，脚本说明在runGem5中
    * sortdata里面的玩意儿

## 软件

* maxf
  * 改写池化层
* RTL新指令

## RTL

* oacc对于src2需要加个偏移
* 先不往下弄了

  * 还剩下的东西看白纸
* 已实现的部分-看白纸-到时候提交一下吧

  * 译码
  * ACC computing-unit
    * 流水级-互锁
    * 操作数选择
* 综合功耗
* 功能？性能

  * 其实都可以不用管
  * 看perf.txt
* 乘法双倍位数

  * 31-16:0 15-0:16bit
  * 感觉应该是在ld的时候去整会比较好，16bit外还有数就直接max-16

    * oacc存的时候去做，如果是有符号就不太行，无符号累加的话，咱们的策略是正确的
  * 乘法只要低32bit

## 跑网络

* 模型

  * tiny-darknet分类
  * tiny-yolo目标检测
  * resnet分类
  * vgg实在太大，yolo都已经很大
* 跑法

  * 出尺寸，查一查，

    * k=3 & 偶数 & stride=1
  * 方案

    * if=4，全跑im2col
    * wino_cus改一下，区分原始和改动
  * 换咱的跑，下载验证

    * 确保有扩展指令执行
    * 功能验证 - 检测或者分类，有个prediction_png
    * 加速效果
