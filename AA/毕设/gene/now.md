# 先按最简单的来弄

## 还差的东西

* 5.3/5.2/5.1

  * fpga

    * base数据【需要不带SOC？】
      * [ ] 频率 功耗 资源(LUT/FF/DSP)
    * our数据
      * [ ] 功耗评估 资源评估
  * asic

    * base数据【需要不带SOC？】

      * [X] 800 37+5 250000um2
    * our数据

      * [X] 频率不会变
      * [ ] 功耗 资源评估
  * 理论数据

    * 利用率【考虑访存】

      * ri5cy-acc
        * [X] 按主频贼高那样算
        * [ ] 需要拉表，各层利用率
      * 我们的
        * 考虑axi

          * [ ] 握手cycle25？
          * [ ] 单次word2？
            * 仿真代码里是axi_width=64,但是ge2官网是32
          * [ ] 方差是怎样的
          * [ ] 合理性
            * 因为要实现ld16和ld4，他官网有那个限制【这里咱们因为maxf/wbtile 肯定要有4的】
      * base
        * [ ] 同样是axi，结合cache块
    * Gops【只考虑计算，不考虑访存】

      * [ ] base
      * [X] our
  * 5.1消融

    * [X] 卷积的就按 峰值xU，然后咱们的U按那个上下浮动
    * [ ] 池化待
  * 5.2

    * 表1

      * [X] 同样 峰值xU，U上下浮动
        * [X] 算出来 差了10倍左右，但结合主频说明cycle差不多
      * [ ] 池化待
    * 表2

      * [X] 拉表列公式计算【先算他们的U，然后咱们的U上下浮动，比值】
      * [ ] 池化待
  * 5.3

    * [ ] 算出来填好就行
  * 写

    * 5.3最后一小段简单描述下
  * 简单与复杂

    * 池化那要考虑 什么ld_output的，全部统一
      * 简单：乱来就行
      * 复杂：稍微统一一下
    * 功耗数据
      * 简单：需要的东西去问师兄，这个真别花时间在上面
      * 复杂：需要的话就看一下docker大小然后直接问hgh，windows上实在太复杂
* 图1
* 介绍和摘要
* ckt

  * 括号前后空格
  * 大小写（table/pic/inst）
  * 过去式
* 细改文章

## 我干什么

* 杂碎

  * 4.1那cache_line我可能要改一下，再说吧
  * 查看cva6预留指令编码，尽量还是用custom，然后在文章里相应位置改动
  * 旁路和那个操作数选择的细节就先不写了
* 文章

  * 常规：见上
  * 自己其实还想改下文章中自己那部分不合理的地方...
    * 纸上有
    * 主要是计算策略那边，实现的合理性
* 实验

  * 以迎合文章需求为主
  * 当然后面有时间为了锻炼也可以自己做着，下面的东西可以参考
* 这周

  * 19号

    * [X] 本子上那些待做的

      * [X] ldtile
      * [X] maxf
    * [X] 初稿前ckt我自己写的地方，毕竟改了好多次

      * [X] 只改错误的说法
  * 20号

    * [X] 看了lenet 问了bchmrk 算了层
    * [X] 4.1
    * [X] 4.3
    * [X] 5.3一大半

# 一些思考

* 其实我的 ori-ppbuf 可以单拎出来写的，作为3.3......
* 0811的很多思考都很好：ppbuf还有升级版，2ld-1cal 代价是FF，好处是计算访存达到平衡【当然得先看axi延迟】

  ![1723394437432](image/now/1723394437432.png)

# 非必要实验

* 模拟器【DEBUG要有抽离性】【差不多得了，因为RTL才是真】

  * 实现ppbuf

    * 调试性能
  * 滑窗法

    * DEBUG【指令序列啥的】
    * 跑三个网络【其实vgg没必要】
  * 加速法

    * 记得换成滑窗+wino
  * 池化层效果测试

    * 编译器
    * 内联
    * debug
    * 跑池化层测试
* RTL搞好也是一种学习，verilator仿真弄好可以让他去综合

  * 参考下面的点

## 模拟器

* other

  * 虚地址错误大概是 padding & stride=2导致的
  * 脚本混乱，脚本说明在runGem5中
    * sortdata里面的玩意儿

## RTL-算是deprecated-可以放在初稿之后-白纸上有些笔记

* oacc对于src2需要加个偏移
* 已完成

  * 译码
  * ACC computing-unit
    * 流水级-互锁
    * 操作数选择
* 功能性能测试都再说

  * 要跑的话编译器那得改动
  * 借机搭一下差分测试？
  * 看perf.txt可以参考些东西
