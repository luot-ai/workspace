# SOC

* 基于 Vivado 的 Block Design 工具
  * 以 CPU 为主控单元，通过 AXI 总线连接多个外设模块，
  * 包括 UART、GPIO、定时器及 DDR 主存控制器等
    * 所有外设模块作为 AXI Slave 接入系统，需要为每个模块分配**物理地址段**，从而构建了统一寻址的片上系统架构
    * CPU 可通过**标准读写指令**直接控制各外设，实现软硬协同运行

## LINUX启动过程

* U-Boot 是一个主要用于嵌入式系统的引导加载程序
* 目的：引导内核到内存，启动内核
* 由于我们编译得到的U-boot镜像较小，我们将其转换为COE文件，放到了SoC上由AXIBRAMControllerIP核控制的BRAM中
  * 实验箱上电以后，会自动执行UBoot，它会完成硬件初始化等工作，便于我们进行对内核的引导。

# 其他

* 如何提高处理器性能
  * 主频
    * 拆分流水级
    * 特殊事件多周期处理
  * CPI
    * 分支预测
    * cache
    * 多发射
    * 乱序
      * 提高指令级并行
    * 旁路+提前唤醒
* 如何提高指令级并行
  * 超标量
  * 乱序
  * 分支预测
  * 软件层面
    * 指令重排
    * 循环展开
* 缓存一致性
  * MSI
  * MESI
    * E：从主存加载数据后，若只有自己持有副本，进入E状态
    * 将来写入无需通知其他核：避免无效写广播
  * MOESI
    * O：多个缓存有副本，其中一个写了最新值，由他来提供值
    * 避免频繁写回
* 中断异常
  * 保存PC
  * 设置原因
  * 跳转地址
  * 软件负责：根据设置的原因跳转到对应地址处理
* AXI(握手)
  * 地址 数据 大小
  * 5通道
    * 读写分离，为性能
      * 写
        * 写请求，双方握手
          * 地址 大小
        * 写数据
          * 分开是为了提升效率，相当于从设备也流水化处理地址和数据
        * 写响应
          * 告诉主方已经接收到写数据，主方因此可以发送读请求
